<!doctype html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimal-ui">
</head>
<body>
<div id="div">
</div>
<div id="vid">
</div>
<script src="pixi.min.js"></script>
<script>

var video = document.createElement("video");

var req = new XMLHttpRequest();
req.open('GET', 'vid25.mp4', true);
req.responseType = 'blob';

req.onload = function() {
   // Onload is triggered even on 404
   // so we need to check the status code
   if (this.status === 200) {
      var videoBlob = this.response;
      var vid = URL.createObjectURL(videoBlob); // IE10+
      // Video is now downloaded
      // and we can set it as source on the video element
      video.src = vid;
      console.log(video.src);
   }
}
req.onerror = function() {
    console.log("ERROR");
}


req.send();

/*

var videoElement = document.createElement("video");
videoElement.src = 'intro480p.mp4';

videoElement.setAttribute('muted', '');
videoElement.setAttribute('playsinline', '');
videoElement.setAttribute('webkit-playsinline', '');
videoElement.muted = true;
videoElement.autoplay = false;
videoElement.type ='video/mp4';


videoElement.style.width = "300px";
videoElement.style.height = "200px";

videoElement.style.visibility = "hidden";
videoElement.style.opacity = "0.0";

document.getElementById("vid").appendChild(videoElement);   



var that = this; 
var onCanPlayThrough = function () {
    videoElement.removeEventListener('canplaythrough', onCanPlayThrough);
    document.getElementById("div").innerHTML += 'VID LOADED';


    var resetVid = function () {
        videoElement.pause(); 
        videoElement.currentTime = 0;

        setTimeout(function(){
            videoElement.style.visibility = "visible";
            videoElement.style.opacity = "1.0";
            videoElement.play();
        }, 2000);
    };

    var promise = videoElement.play();
    if (promise !== undefined) {
        promise.catch(function (error) {
            videoElement.play();
        }).then(function () {
            resetVid();
        });
    } else {
        var onTouch = function() {
            document.body.removeEventListener('touchstart', onTouch);
            document.getElementById("div").innerHTML += 'TOUCH';


            videoElement.play();
            resetVid();
        };
        document.body.addEventListener('touchstart', onTouch);
    }
};

videoElement.addEventListener('canplaythrough', onCanPlayThrough);

videoElement.load();


*/
    

      
</script>
</body>
